<!-- header -->
<app-header></app-header>

<!-- main -->
<div class="container mt-3" style="max-width: 760px">
  <div class="displayTable">
    <div class="displayTableCell">
      <div *ngIf="!submitted">
        <div class="form-group">
          <input type="text" class="form-control form-control-sm" id="title" required [(ngModel)]="item.title"
            name="title" placeholder="Título" />
        </div>

        <div class="form-group">
            <input type="file" style="display: none" id="imgUrl" (change)="fileChangeEvent($event)" required
              name="imgUrl">
            <label class="btn btn-primary btn-block btn-outlined btn-sm" for="imgUrl">Imagen del item</label>
        </div>

        <div class="form-group" *ngIf="isImageSaved">
            <img [src]="cardImageBase64" />
        </div>

        <div class="form-group">
          <editor 
          apiKey="q3d1id0pxt3wesbhqmr2zhcdca85z7wa2smc09mwmxx69xia" 
          [init]="{
            height: 300, 
            plugins: ['advlist autolink lists link image charmap print',
            'preview anchor searchreplace visualblocks code fullscreen',
            'insertdatetime media table contextmenu paste emoticons'],
            toolbar: 
            'insertfile undo redo | styleselect | bold italic | \
            alignleft aligncenter alignright alignjustify | \
            bullist numlist outdent indent | link image emoticons',
            menubar: false
          }" 
          [(ngModel)]="item.description"></editor>
        </div>

        <div class="form-group">
          <input type="text" class="form-control form-control-sm" id="precio" required [(ngModel)]="item.price"
            name="precio" placeholder="Precio" />
        </div>

        <div class="form-group mb-5">
          <button (click)="saveItem()" class="btn btn-primary btn-sm btn-block">Enviar item</button>
        </div>

      </div>

      <div *ngIf="submitted">
        <h4>Se ha enviado el item correctamente</h4>
        <button class="btn btn-success" (click)="newItem()">Añadir nueva noticia</button>
      </div>
    </div>
  </div>
</div>

<!-- footer -->
<app-footer></app-footer>

